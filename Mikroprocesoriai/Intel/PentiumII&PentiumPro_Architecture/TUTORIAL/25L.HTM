<HTML>
<HEAD>
<TITLE>Topic 25</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#CC00CC" VLINK="#CC00CC" ALINK="#CC00CC">
<SCRIPT language="JavaScript">
<!--
if (document.location==parent.document.location)
document.write("<CENTER><H3>This page is part of the Optimizing for Pentium(R) II and Pentium Pro Processors tutorial. To start the tutorial, please open the <a href=\"start.htm\">START.HTM</a> page in the same directory.</H3></CENTER>")
//-->
</SCRIPT>
<A NAME="0">
<P><font size="+1"><b>„</b></font>исло ветвлений в ¬ашей программе может быть уменьшено за счет перестановки вариантов в операторе
выбора. ѕерестановка должна производитьс€ только когда один из вариантов выполн€етс€ в более чем 50%
случаев. 

 омпил€торы с настраиваемым профилированием могут переставл€ть код в соответствии с ¬ашими
указани€ми. “акие перестановки рекомендуетс€ делать, когда оператор выбора транслируетс€ в двоичное
дерево поиска, а не в таблицу переходов. 

<P><font size="+1"><b>¬</b></font> <b>коде до оптимизации</b>, показанном на иллюстрации, процессор последовательно выполн€ет условные
переходы на все варианты, пока не встретит подход€щий. ¬ариант "case 33" выполн€етс€ гораздо чаще других, и
прежде чем дойти до него, процессор должен проверить все предшествующие варианты. 

<P><font size="+1"><b>Ќ</b></font>ажмите на кнопку <b>ќптимизировать</b>, чтобы посмотреть, как можно оптимизировать код путем вынесени€
варианта "case 33" за границы оператора ветвлени€. 

<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<A NAME="2">
ѕри<FONT COLOR="#0000FF"><code> i </code></FONT>не равном 33 выполн€етс€ переход на оператор 
выбора. <BR>¬арианты внутри оператора выбора следует упор€дочивать так, чтобы более часто 
выполн€емые варианты располагались перед менее часто выполн€емыми.
<BR><BR><A HREF="#0">  началу страницы</A>
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<A NAME="1">
¬ынесите наиболее часто выполн€емый вариант <CODE>(case 33)</CODE> за пределы оператора выбора. 
ѕоместите его в оператор <CODE>if</CODE>. ¬ случае истинного услови€ так можно избежать всех
ветвлений, св€занных с оператором выбора.
<BR><BR><A HREF="#0">  началу страницы</A>
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
</BODY>
</HTML>
