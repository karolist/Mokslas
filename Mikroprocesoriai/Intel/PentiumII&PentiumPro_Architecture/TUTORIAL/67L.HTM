<HTML>
<HEAD>
<TITLE>Topic 67</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#CC00CC" VLINK="#CC00CC" ALINK="#CC00CC">
<SCRIPT language="JavaScript">
<!--
if (document.location==parent.document.location)
document.write("<CENTER><H3>This page is part of the Optimizing for Pentium(R) II and Pentium Pro Processors tutorial. To start the tutorial, please open the <a href=\"start.htm\">START.HTM</a> page in the same directory.</H3></CENTER>")
//-->
</SCRIPT>
<P><font size="+1"><b>¬</b></font> большинстве стандартных €зыков программировани€ при вычислени€х с  плавающей точкой используетс€ <A HREF="javascript:parent.showglos('nearoundmod')">округление до ближайшего целого</a>,  а дл€ преобразовани€ чисел с плавающей точкой в целые - алгоритм <A HREF="javascript:parent.showglos('choproundmode')">отбрасывани€ дробной части</a>.<P>¬ св€зи с этим на каждое вхождение в код команды <A HREF="javascript:parent.showglos('FISTP')"><code>FISTP</code></a>,  преобразующей число с плавающей точкой в целое, приходитс€ по два вхождени€ команды <A HREF="javascript:parent.showglos('FLDCW')"><code>FLDCW</code></a>, переключающей режим округлени€ на  <I>отбрасывание дробной части</I> до употреблени€ <FONT COLOR="#0000cc"><code>FISTP</code></FONT>  и на <I>округление до ближайшего целого</I> после употреблени€  <FONT COLOR="#0000cc"><code>FISTP</code></FONT>.
<p>“ака€ комбинаци€ команд встречаетс€ в приведенном здесь <B>ассемблерном коде до оптимизации</B>, получаемом при компил€ции <B>текста на C до оптимизации</B>.<P><font size="+1"><b>¬</b></font>ыполнение команды <FONT COLOR="#0000cc"><code>FLDCW</code></FONT>  св€зано со значительными  временными затратами на <A HREF="javascript:parent.showglos('synchexec')">синхронизацию выполнени€</a>.

<p align=right><b>продолжение следует...</b></p>
</BODY>
</HTML>

