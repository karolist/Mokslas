 Когда процессор устанавливается  на
нули,он инициализируется в  РЕАЛЬНЫЙ
РЕЖИМ.РЕАЛЬНЫЙ РЕЖИМ имеет такую  же
архитектуру базы как и 8086,но  поз-
воляет доступ к 32-бит набору  реги-
стров   80386.Механизм    адресации,
размер  памяти,обработка  прерываний
идентичны РЕАЛЬНОМУ РЕЖИМУ 80286.
 Все команды  80386 имеются  в нали-
чии в  РЕАЛЬНОМ РЕЖИМЕ.  Размер опе-
ранда   по   умолчанию   в  РЕАЛЬНОМ
РЕЖИМЕ 16-бит,так же  как и у  8086.
Для  того,чтобы  использовать 32-би-
товые регистры  и режимы  адресации,
необходимо   использовать    префикс
отмены.Кроме  того,размер   сегмента
INTEL  80386  в  РЕАЛЬНОМ РЕЖИМЕ ра-
вен  64К  байтам,поэтому  32-битовые
адреса   должны   быть    меньше,чем
0000FFFFH.Основной  функцией  РЕАЛЬ-
НОГО  РЕЖИМА  является  задача уста-
новить  процессор  для  операции за-
щищенного режима.
══════════════════════════════════════
──────────────────────────────────────
         АДРЕСАЦИЯ ПАМЯТИ.
──────────────────────────────────────
В   РЕАЛЬНОМ   РЕЖИМЕ   максимальный
размер   памяти   1   мегабайт.Таким
образом,активными  могут  быть   то-
лько  линии   адреса   А2-А19,В0-В3.
(исключение,высокие   линии   адреса
А20-А31  являются  высокими  до  тех
пор,пока  не  будет  выполнен   меж-
сегментный     переход.)(см.рисунок)
Поскольку    разбиение(памяти)    на
страницы  в  РЕАЛЬНОМ  РЕЖИМЕ  нель-
зя  выполнить,линейные  адреса   та-
кие  же  как  и  физические  адреса.
Физические  адреса   формируются   в
РЕАЛЬНОМ   РЕЖИМЕ   путем   сложения
содержания   соответствующего   сег-
ментного   регистра,который    сдви-
гается  влево  на  4-бита  к  испол-
нительному    адресу.Такое    добав-
ление  приводит  к  созданию  адрес-
ного  пространства  равному   20-би-
товому  физическому  адресу  или   1
мегабайтному   адресному   простран-
ству.Поскольку   сегментные   регис-
тры  сдвигаются  влево  на   4-бита,
это  означает  что  сегменты  РЕАЛЬ-
НОГО  РЕЖИМА  всегда  начинаются  на
границах параграфа.
Все сегменты в РЕАЛЬНОМ РЕЖИМЕ  дли-
ной в 64 Кбайта,и могут быть  прочи-
таны написаны или выполнены.
МП 80836 может генерировать прерыва-
ние  13,если  адрес  операнда данных
или вызов  команды происходит  после
конца сегмента.(т.е. адрес  операнда
имеет  смещение  более  чем   FFFFH,
например слово с младшим байтом  при
FFFFH и  старшим байтом  при 0000H.)
Сегменты в РЕАЛЬНОМ РЕЖИМЕ могут пе-
рекрываться.Таким образом,если опре-
деленный сегмент  не использует  все
64Кбайта,другой  сегмент  может быть
наложен  на  неиспользованную  часть
предыдущего  сегмента.Это  позволяет
программисту  уменьшить   количество
физической  памяти  необходимой  для
программы.
──────────────────────────────────────
      ЗАПАСНЫЕ ЯЧЕЙКИ ПАМЯТИ
──────────────────────────────────────
 Имеется две фиксированные области в
памяти,которые  резервивуются  в ре-
жиме реальной адресации:
1)область   инициализации    системы
2)область     таблицы     прерывания
Ячейки от 00000h до 003FFH  резерви-
руются  для   векторов   прерываний.
Каждое из  256 возможных  прерываний
имеет  зарезервированный  4-байтовый
адрес перехода.
Ячейки  от  FFFFFFF0H  до  FFFFFFFFH
резервируются для инициализации сис-
темы.
──────────────────────────────────────
            ПРЕРЫВАНИЯ
──────────────────────────────────────
Многие  из  исключений,показанных  в
ТАБЛИЦЕ ПРЕРЫВАНИЙ (для ее просмотра
нажмите  клавишу  F10) рассмотренных
в  первой  части  не  применяются  в
РЕАЛЬНОМ РЕЖИМЕ.В частности прерыва-
ния 10,11,12,14  не могут  произойти
в РЕАЛЬНОМ РЕЖИМЕ.Другие  прерывания
имеют некоторые  отличия в  РЕАЛЬНОМ
РЕЖИМЕ.
──────────────────────────────────────
       ВЫКЛЮЧЕНИЕ  И  ОСТАНОВ
──────────────────────────────────────
 Команда  HLT(останов)  останавливает
выполнение программы и  предотвращает
процессор от использования  локальной
шины,пока он не будет запущен  опять.
Либо  NMI,INTR(введение) с прерывани-
ями (IF=1) или СБРОС выведет 80386 из
состояния останова.Если он остановлен
то пара CS:IP укажет на другую коман-
ду после HLT(останов).
 Выключение МП произойдет,когда обна-
ружится грубая ошибка,которая  мешает
дальнейшей обработке.В РЕАЛЬНОМ РЕЖИ-
МЕ выключение  может случиться  в 2-х
случаях:
1. Когда происходит прерывания, и век-
тор прерывания больше,чем таблица опи-
сания прерываний(т.е. для данного пре-
рывания не существует обработчика пре-
рывания).
2.Когда  вызов  команды,введение  или
проталкивание пытаются завернуть сег-
мент стека,когда SP не четный (напри-
мер:  загрузка  значения  из   стека,
когда SP=0001)  в результате  сегмент
стека больше,чем FFFFH.
──────────────────────────────────────













.
